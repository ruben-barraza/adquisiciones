<?php
/* 
 * Generated by CRUDigniter v3.0 Beta 
 * www.crudigniter.com
 */
 
class Generarpdfmodel extends CI_Model
{
    function __construct()
    {
        parent::__construct();
    }
    
    /*
    * SELECCIONA LA RAZÃ“N SOCIAL, EL NOMBRE DEL CONTACTO Y EL CORREO ELECTRÃ“NICO 
    * DEL DESTINATARIO DE LA PETICIÃ“N OFERTA GENERAL
    */
    
    function get_contactos($id)
    {
        $this->db->select('proveedor.razonSocial
            , CASE po_proveedor.contacto
                WHEN 1 THEN proveedor.nombre1
                WHEN 2 THEN proveedor.nombre2
                WHEN 3 THEN proveedor.nombre3
            END nombre
            , CASE po_proveedor.contacto
                WHEN 1 THEN proveedor.correoElectronico1
                WHEN 2 THEN proveedor.correoElectronico2
                WHEN 3 THEN proveedor.correoElectronico3
            END correoElectronico', FALSE);
        $this->db->from('proveedor');
        $this->db->join('po_proveedor', 'proveedor.id = po_proveedor.idProveedor', 'inner');
        $this->db->where('po_proveedor.idPog', $id);
        $query = $this->db->get();
        if($query->num_rows() > 0){
            return $query->result_array();
        }
    }
}